"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
* abandon v0.2.1
* (c) 2007-2019 心叶 git+https://github.com/yelloxing/abandon.git
* License: MIT
*/!function(){var e=Object.prototype.toString;function t(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":e.call(t)}function n(e){var t=void 0===e?"undefined":_typeof(e);return null!=e&&("object"===t||"function"===t)}function r(e){if(!n(e))return!1;var r=t(e);return"[object Function]"===r||"[object AsyncFunction]"===r||"[object GeneratorFunction]"===r||"[object Proxy]"===r}var o=0;function i(e){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e))||"[object Object]"!=t(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function u(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)&&!i(e)}function a(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function c(e){var n=void 0===e?"undefined":_typeof(e);return"string"===n||"object"===n&&null!=e&&!Array.isArray(e)&&"[object String]"===t(e)}function l(e,t,n){var r=document.createElement(e),o=[],i=[],u=[];for(var a in t=t||{})/^v-/.test(a)?o.push({el:r,name:a.replace("v-",""),value:t[a]}):/^@/.test(a)?i.push({el:r,name:a,value:t[a]}):r.setAttribute(a,t[a]);n=n||[];for(var l=0;l<n.length;l++){var d=n[l];if(c(d)){var f=d;if(/^[\x20\t\r\n\f]{0,}$/.test(f))continue;d={el:document.createTextNode(f),text:f},u.push(d)}else{for(var v=0;v<d.directive.length;v++)o.push(d.directive[v]);for(var p=0;p<d.event.length;p++)i.push(d.event[p]);for(var s=0;s<d.textBind.length;s++)u.push(d.textBind[s])}r.appendChild(d.el)}return{el:r,directive:o,textBind:u,event:i}}function d(e){var n=void 0===e?"undefined":_typeof(e);return"symbol"===n||"object"===n&&null!==e&&"[object Symbol]"===t(e)}function f(e,t){return Array.isArray(e)?e:function(e,t){if(Array.isArray(e))return!1;var n=void 0===e?"undefined":_typeof(e);return!("number"!=n&&"boolean"!=n&&null!=e&&!d(e))||(null!==t&&e in Object(t)||/^\w*$/.test(e))}(e,t)?[e]:function(e){return e.replace(/\[/g,".").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").split(".")}(e)}var v=1/0;function p(e){if("string"==typeof e||d(e))return e;var t=""+e;return"0"===t&&1/e==-v?"-0":t}function s(e,t,n){var r=null==e?void 0:function(e,t){t=f(t,e);for(var n=0;n<t.length&&null!==e;n++)e=e[p(t[n])];return n&&n===t.length?e:void 0}(e,t);return void 0===r?n:r}function h(e,t){e.vnode=e.render(l);for(var n=0;n<e.vnode.directive.length;n++){var o=e.vnode.directive[n];r(e.$directive[o.name].bind)&&e.$directive[o.name].bind.call(e.$directive[o.name],o.el,{value:s(e,o.value),arg:o.value,target:e})}var i=e.vnode.el;i.setAttribute("uid",e._uid),e.el.parentNode.replaceChild(i,e.el),t.call(e);for(var u=0;u<e.vnode.directive.length;u++){var a=e.vnode.directive[u];r(e.$directive[a.name].inserted)&&e.$directive[a.name].inserted.call(e.$directive[a.name],a.el,{value:s(e,a.value),arg:a.value,target:e})}for(var c=e.vnode.event,d=0;d<c.length;d++)e._bind(c[d].el,c[d].name.replace(/^@/,""),c[d].value);var f=function(n){var o=s(e.data,n);Object.defineProperty(e.data,n,{get:function(){return o},set:function(n){o=n,t.call(e);for(var i=0;i<e.vnode.directive.length;i++){var u=e.vnode.directive[i];r(e.$directive[u.name].update)&&e.$directive[u.name].update.call(e.$directive[u.name],u.el,{value:s(e,u.value),arg:u.value,target:e})}}})};for(var v in e.data)f(v)}function b(e){return function(t){return function e(t,n){for(var r,o=t.childNodes,a=[],c=0;c<o.length;c++)null===(r=o[c])||"object"!==(void 0===r?"undefined":_typeof(r))||3!==r.nodeType||i(r)?u(o[c])&&a.push(e(o[c],n)):a.push(o[c].textContent);for(var l={},d=0;d<t.attributes.length;d++)l[t.attributes[d].nodeName]=t.attributes[d].nodeValue;return n(t.tagName,l,a)}(function(e){if(u(e))return e;var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(e),t)}}function y(e){if(!(this instanceof y))throw new Error("Abandon is a constructor and should be called with the `new` keyword");r(e.beforeCreate)&&e.beforeCreate.call(),this._init(e),r(this.created)&&this.created.call(this),u(this.el)&&this.$mount(this.el)}!function(e){e.prototype._init=function(e){for(var t in this._uid=o++,e=e||{})this[t]=e[t];r(this.data)&&(this.data=this.data.call(this))}}(y),function(e){e.prototype._bind=function(e,t,n){var r=this,o=n.replace(/\([^)]{0,}\)/,"");a(e,t,(function(){r.methods[o].apply(r)}))}}(y),function(e){e.prototype._update=function(){r(this.beforeUpdate)&&this.beforeUpdate.call(this),this._refurbish(),r(this.updated)&&this.updated.call(this)}}(y),function(e){e.prototype._refurbish=function(){for(var e=this,t=this.vnode.textBind,n=0;n<t.length;n++){var r=t[n].text.replace(/{{[^}]+}}/g,(function(t){return s(e,t.replace("{{","").replace("}}",""))})),o=document.createTextNode(r);t[n].el.parentNode.replaceChild(o,t[n].el),t[n].el=o}}}(y);var m={bind:function(e,t){e.value=e.textContent=t.value},update:function(e,t){e.value=e.textContent=t.value}};function g(e,t,n){!function(e,t,n){"__proto__"==t?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,t,n)}function j(e,t,r,o){return o="function"==typeof o?o:void 0,null==e?e:function(e,t,r,o){if(!n(e))return e;t=f(t,e);for(var i=e,u=0;u<t.length;u++){var a=p(t[u]),c=r;if(u+1!=t.length){var l=i[a];n(l)?c=l:void 0===(c=o?o(l,a,i):void 0)&&(c={})}g(i,a,c),i=i[a]}return e}(e,t,r,o)}var _={bind:function(e,t){e.value=t.value,a(e,"input",(function(){j(t.target,t.arg,e.value)}))},update:function(e,t){e.value=t.value}},$={};!function(e){e.prototype.$directive={},e.directive=function(t,n){e.prototype.$directive[t]=n},e.directive("bind",m),e.directive("model",_),e.prototype.$component={},e.component=function(t,n){e.prototype.$component[t]=n},e.component("component",$)}(y),y.prototype.$mount=function(e){var t;r(this.render)||(this.template&&c(this.template)||(this.template=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e)),this.render=b(this.template)),r((t=this).beforeMount)&&t.beforeMount.call(t),new h(t,t._update),r(t.mounted)&&t.mounted.call(t)},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=y:window.Abandon=y}();