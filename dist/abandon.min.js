"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
* abandon v0.2.2
* (c) 2007-2019 心叶 git+https://github.com/yelloxing/abandon.git
* License: MIT
*/!function(){var e=Object.prototype.toString;function t(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":e.call(t)}function n(e){var t=void 0===e?"undefined":_typeof(e);return null!=e&&("object"===t||"function"===t)}function r(e){if(!n(e))return!1;var r=t(e);return"[object Function]"===r||"[object AsyncFunction]"===r||"[object GeneratorFunction]"===r||"[object Proxy]"===r}var o=1;function i(e){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e))||"[object Object]"!=t(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function u(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)&&!i(e)}function a(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function c(e){var n=void 0===e?"undefined":_typeof(e);return"string"===n||"object"===n&&null!=e&&!Array.isArray(e)&&"[object String]"===t(e)}function l(e,t,n){var r=document.createElement(e);if(/ui\-/.test(e.toLowerCase()))return{el:r,tagName:e.toLowerCase(),attrs:t,directive:[],textBind:[],event:[],component:[]};var o=[],i=[],u=[],a=[];for(var l in t=t||{})/^v-/.test(l)?o.push({el:r,name:l.replace("v-",""),value:t[l]}):/^@/.test(l)?i.push({el:r,name:l,value:t[l]}):r.setAttribute(l,t[l]);n=n||[];for(var d=0;d<n.length;d++){var v=n[d];if(c(v)){var f=v;if(/^[\x20\t\r\n\f]{0,}$/.test(f))continue;v={el:document.createTextNode(f),text:f},u.push(v)}else{for(var p=0;p<v.directive.length;p++)o.push(v.directive[p]);for(var s=0;s<v.event.length;s++)i.push(v.event[s]);for(var h=0;h<v.component.length;h++)a.push(v.component[h]);for(var b=0;b<v.textBind.length;b++)u.push(v.textBind[b])}v.tagName&&a.push(v),r.appendChild(v.el)}return{el:r,directive:o,textBind:u,event:i,component:a}}function d(e){var n=void 0===e?"undefined":_typeof(e);return"symbol"===n||"object"===n&&null!==e&&"[object Symbol]"===t(e)}function v(e,t){return Array.isArray(e)?e:function(e,t){if(Array.isArray(e))return!1;var n=void 0===e?"undefined":_typeof(e);return!("number"!=n&&"boolean"!=n&&null!=e&&!d(e))||(null!==t&&e in Object(t)||/^\w*$/.test(e))}(e,t)?[e]:function(e){return e.replace(/\[/g,".").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").split(".")}(e)}var f=1/0;function p(e){if("string"==typeof e||d(e))return e;var t=""+e;return"0"===t&&1/e==-f?"-0":t}function s(e,t,n){var r=null==e?void 0:function(e,t){t=v(t,e);for(var n=0;n<t.length&&null!==e;n++)e=e[p(t[n])];return n&&n===t.length?e:void 0}(e,t);return void 0===r?n:r}function h(e,t){e.vnode=e.render(l);for(var n=0;n<e.vnode.component.length;n++){var o=e.$component[e.vnode.component[n].tagName];o.el=e.vnode.component[n].el,o._pid=e._uid,e.new(o)}for(var i=0;i<e.vnode.directive.length;i++){var u=e.vnode.directive[i];r(e.$directive[u.name].bind)&&e.$directive[u.name].bind.call(e.$directive[u.name],u.el,{value:s(e,u.value),arg:u.value,target:e})}var a=e.vnode.el;a.setAttribute("uid",e._uid),e._pid&&a.setAttribute("pid",e._pid),e.el.parentNode.replaceChild(a,e.el),t.call(e);for(var c=0;c<e.vnode.directive.length;c++){var d=e.vnode.directive[c];r(e.$directive[d.name].inserted)&&e.$directive[d.name].inserted.call(e.$directive[d.name],d.el,{value:s(e,d.value),arg:d.value,target:e})}for(var v=e.vnode.event,f=0;f<v.length;f++)e._bind(v[f].el,v[f].name.replace(/^@/,""),v[f].value);var p=function(n){var o=s(e.data,n);Object.defineProperty(e.data,n,{get:function(){return o},set:function(n){o=n,t.call(e);for(var i=0;i<e.vnode.directive.length;i++){var u=e.vnode.directive[i];r(e.$directive[u.name].update)&&e.$directive[u.name].update.call(e.$directive[u.name],u.el,{value:s(e,u.value),arg:u.value,target:e})}}})};for(var h in e.data)p(h)}function b(e){return function(t){return function e(t,n){for(var r,o=t.childNodes,a=[],c=0;c<o.length;c++)null===(r=o[c])||"object"!==(void 0===r?"undefined":_typeof(r))||3!==r.nodeType||i(r)?u(o[c])&&a.push(e(o[c],n)):a.push(o[c].textContent);for(var l={},d=0;d<t.attributes.length;d++)l[t.attributes[d].nodeName]=t.attributes[d].nodeValue;return n(t.tagName,l,a)}(function(e){if(u(e))return e;var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(e),t)}}function m(e){if(!(this instanceof m))throw new Error("Abandon is a constructor and should be called with the `new` keyword");r(e.beforeCreate)&&e.beforeCreate.call(),this._init(e),r(this.created)&&this.created.call(this),u(this.el)&&this.$mount(this.el)}!function(e){e.prototype._init=function(e){for(var t in this._uid=o++,e=e||{})this[t]=e[t];r(this.data)&&(this.data=this.data.call(this))}}(m),function(e){e.prototype._bind=function(e,t,n){var r=this,o=n.replace(/\([^)]{0,}\)/,"");a(e,t,(function(){r.methods[o].apply(r)}))}}(m),function(e){e.prototype._update=function(){r(this.beforeUpdate)&&this.beforeUpdate.call(this),this._refurbish(),r(this.updated)&&this.updated.call(this)}}(m),function(e){e.prototype._refurbish=function(){for(var e=this,t=this.vnode.textBind,n=0;n<t.length;n++){var r=t[n].text.replace(/{{[^}]+}}/g,(function(t){return s(e,t.replace("{{","").replace("}}",""))})),o=document.createTextNode(r);t[n].el.parentNode.replaceChild(o,t[n].el),t[n].el=o}}}(m);var y={bind:function(e,t){e.value=e.textContent=t.value},update:function(e,t){e.value=e.textContent=t.value}};function g(e,t,n){!function(e,t,n){"__proto__"==t?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,t,n)}function _(e,t,r,o){return o="function"==typeof o?o:void 0,null==e?e:function(e,t,r,o){if(!n(e))return e;t=v(t,e);for(var i=e,u=0;u<t.length;u++){var a=p(t[u]),c=r;if(u+1!=t.length){var l=i[a];n(l)?c=l:void 0===(c=o?o(l,a,i):void 0)&&(c={})}g(i,a,c),i=i[a]}return e}(e,t,r,o)}var j={bind:function(e,t){e.value=t.value,a(e,"input",(function(){_(t.target,t.arg,e.value)}))},update:function(e,t){e.value=t.value}};!function(e){e.prototype.$directive={},e.directive=function(t,n){e.prototype.$directive[t]=n},e.directive("bind",y),e.directive("model",j),e.prototype.$component={},e.component=function(t,n){e.prototype.$component[t]=n},e.prototype.new=function(t){return new e(t)}}(m),m.prototype.$mount=function(e){var t;r(this.render)||(this.template&&c(this.template)||(this.template=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e)),this.render=b(this.template)),r((t=this).beforeMount)&&t.beforeMount.call(t),new h(t,t._update),r(t.mounted)&&t.mounted.call(t)},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=m:window.Abandon=m}();