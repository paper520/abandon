"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
* abandon v0.2.0-alpha
* (c) 2007-2019 心叶 git+https://github.com/yelloxing/abandon.git
* License: MIT
*/!function(){var e=Object.prototype.toString;function t(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":e.call(t)}function n(e){if(!function(e){var t=void 0===e?"undefined":_typeof(e);return null!=e&&("object"===t||"function"===t)}(e))return!1;var n=t(e);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object Proxy]"===n}var r=0;function o(e){var n=void 0===e?"undefined":_typeof(e);return"string"===n||"object"===n&&null!=e&&!Array.isArray(e)&&"[object String]"===t(e)}function i(e,t,n){var r=document.createElement(e),i=[],u=[];for(var c in t=t||{})r[c]=t[c];n=n||[];for(var l=0;l<n.length;l++){var a=n[l];if(o(a)){var d=a;a={el:document.createTextNode(d),text:d},u.push(a)}else{for(var f=0;f<a.directive.length;f++)i.push(a.directive[f]);for(var p=0;p<a.textBind.length;p++)u.push(a.textBind[p])}r.appendChild(a.el)}return{el:r,directive:i,textBind:u}}function u(e){var n=void 0===e?"undefined":_typeof(e);return"symbol"===n||"object"===n&&null!==e&&"[object Symbol]"===t(e)}function c(e,t){return Array.isArray(e)?e:function(e,t){if(Array.isArray(e))return!1;var n=void 0===e?"undefined":_typeof(e);return!("number"!=n&&"boolean"!=n&&null!=e&&!u(e))||(null!==t&&e in Object(t)||/^\w*$/.test(e))}(e,t)?[e]:function(e){return e.replace(/\[/g,".").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").split(".")}(e)}var l=1/0;function a(e){if("string"==typeof e||u(e))return e;var t=""+e;return"0"===t&&1/e==-l?"-0":t}function d(e,t,n){var r=null==e?void 0:function(e,t){t=c(t,e);for(var n=0;n<t.length&&null!==e;n++)e=e[a(t[n])];return n&&n===t.length?e:void 0}(e,t);return void 0===r?n:r}function f(e,t){e.vnode=e.render(i);var n=e.vnode.el;n.setAttribute("uid",e._uid),e.el.parentNode.replaceChild(n,e.el),t.call(e);var r=function(n){var r=d(e.data,n);Object.defineProperty(e.data,n,{get:function(){return r},set:function(n){r=n,t.call(e)}})};for(var o in e.data)r(o)}function p(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)&&!function(e){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e))||"[object Object]"!=t(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}(e)}function s(e){if(!(this instanceof s))throw new Error("Abandon is a constructor and should be called with the `new` keyword");n(e.beforeCreate)&&e.beforeCreate.call(),this._init(e),n(this.created)&&this.created.call(this),p(this.el)&&this.$mount(this.el)}!function(e){e.prototype._init=function(e){for(var t in this._uid=r++,e=e||{})this[t]=e[t];n(this.data)&&(this.data=this.data.call(this))}}(s),function(e){e.prototype._update=function(){n(this.beforeUpdate)&&this.beforeUpdate.call(this),this._refurbish(),n(this.updated)&&this.updated.call(this)}}(s),function(e){e.prototype._refurbish=function(){for(var e=this,t=this.vnode.textBind,n=0;n<t.length;n++){var r=t[n].text.replace(/{{[^}]+}}/g,(function(t){return d(e,t.replace("{{","").replace("}}",""))})),o=document.createTextNode(r);t[n].el.parentNode.replaceChild(o,t[n].el),t[n].el=o}}}(s),s.prototype.$mount=function(e){var t;n(this.render)||(this.template&&o(this.template)||(this.template=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e)),this.render=void template),n((t=this).beforeMount)&&t.beforeMount.call(t),new f(t,t._update),n(t.mounted)&&t.mounted.call(t)},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=s:window.Abandon=s}();