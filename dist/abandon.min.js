"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
* abandon v0.2.0-alpha
* (c) 2007-2019 心叶 git+https://github.com/yelloxing/abandon.git
* License: MIT
*/!function(){var e=Object.prototype.toString;function t(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":e.call(t)}function n(e){if(!function(e){var t=void 0===e?"undefined":_typeof(e);return null!=e&&("object"===t||"function"===t)}(e))return!1;var n=t(e);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object Proxy]"===n}var r=0;var o=function(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)};function i(e){var n=void 0===e?"undefined":_typeof(e);return"string"===n||"object"===n&&null!=e&&!Array.isArray(e)&&"[object String]"===t(e)}function u(e,t,n){var r=document.createElement(e),o=[],u=[],a=[];for(var l in t=t||{})/^v-/.test(l)?o.push({el:r,name:l,value:t[l]}):/^@/.test(l)?u.push({el:r,name:l,value:t[l]}):r.setAttribute(l,t[l]);n=n||[];for(var c=0;c<n.length;c++){var d=n[c];if(i(d)){var f=d;if(/^[\x20\t\r\n\f]{0,}$/.test(f))continue;d={el:document.createTextNode(f),text:f},a.push(d)}else{for(var p=0;p<d.directive.length;p++)o.push(d.directive[p]);for(var s=0;s<d.event.length;s++)u.push(d.event[s]);for(var v=0;v<d.textBind.length;v++)a.push(d.textBind[v])}r.appendChild(d.el)}return{el:r,directive:o,textBind:a,event:u}}function a(e){var n=void 0===e?"undefined":_typeof(e);return"symbol"===n||"object"===n&&null!==e&&"[object Symbol]"===t(e)}function l(e,t){return Array.isArray(e)?e:function(e,t){if(Array.isArray(e))return!1;var n=void 0===e?"undefined":_typeof(e);return!("number"!=n&&"boolean"!=n&&null!=e&&!a(e))||(null!==t&&e in Object(t)||/^\w*$/.test(e))}(e,t)?[e]:function(e){return e.replace(/\[/g,".").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").split(".")}(e)}var c=1/0;function d(e){if("string"==typeof e||a(e))return e;var t=""+e;return"0"===t&&1/e==-c?"-0":t}function f(e,t,n){var r=null==e?void 0:function(e,t){t=l(t,e);for(var n=0;n<t.length&&null!==e;n++)e=e[d(t[n])];return n&&n===t.length?e:void 0}(e,t);return void 0===r?n:r}function p(e,t){e.vnode=e.render(u);var n=e.vnode.el;n.setAttribute("uid",e._uid),e.el.parentNode.replaceChild(n,e.el),t.call(e);for(var r=e.vnode.event,o=0;o<r.length;o++)e._bind(r[o].el,r[o].name.replace(/^@/,""),r[o].value);var i=function(n){var r=f(e.data,n);Object.defineProperty(e.data,n,{get:function(){return r},set:function(n){r=n,t.call(e)}})};for(var a in e.data)i(a)}function s(e){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e))||"[object Object]"!=t(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function v(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)&&!s(e)}function h(e){return function(t){return function e(t,n){for(var r,o=t.childNodes,i=[],u=0;u<o.length;u++)null===(r=o[u])||"object"!==(void 0===r?"undefined":_typeof(r))||3!==r.nodeType||s(r)?v(o[u])&&i.push(e(o[u],n)):i.push(o[u].textContent);for(var a={},l=0;l<t.attributes.length;l++)a[t.attributes[l].nodeName]=t.attributes[l].nodeValue;return n(t.tagName,a,i)}(function(e){if(v(e))return e;var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(e),t)}}function b(e){if(!(this instanceof b))throw new Error("Abandon is a constructor and should be called with the `new` keyword");n(e.beforeCreate)&&e.beforeCreate.call(),this._init(e),n(this.created)&&this.created.call(this),v(this.el)&&this.$mount(this.el)}!function(e){e.prototype._init=function(e){for(var t in this._uid=r++,e=e||{})this[t]=e[t];n(this.data)&&(this.data=this.data.call(this))}}(b),function(e){e.prototype._bind=function(e,t,n){var r=this,i=n.replace(/\([^)]{0,}\)/,"");o(e,t,(function(){r.methods[i].apply(r)}))}}(b),function(e){e.prototype._update=function(){n(this.beforeUpdate)&&this.beforeUpdate.call(this),this._refurbish(),n(this.updated)&&this.updated.call(this)}}(b),function(e){e.prototype._refurbish=function(){for(var e=this,t=this.vnode.textBind,n=0;n<t.length;n++){var r=t[n].text.replace(/{{[^}]+}}/g,(function(t){return f(e,t.replace("{{","").replace("}}",""))})),o=document.createTextNode(r);t[n].el.parentNode.replaceChild(o,t[n].el),t[n].el=o}}}(b),b.prototype.$mount=function(e){var t;n(this.render)||(this.template&&i(this.template)||(this.template=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e)),this.render=h(this.template)),n((t=this).beforeMount)&&t.beforeMount.call(t),new p(t,t._update),n(t.mounted)&&t.mounted.call(t)},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=b:window.Abandon=b}();