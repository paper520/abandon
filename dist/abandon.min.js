"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
* abandon v1.0.0
* (c) 2007-2019 心叶 git+https://github.com/yelloxing/abandon.git
* License: MIT
*/!function(){var e=Object.prototype.toString;function t(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":e.call(t)}function n(e){var t=void 0===e?"undefined":_typeof(e);return null!=e&&("object"===t||"function"===t)}function o(e){if(!n(e))return!1;var o=t(e);return"[object Function]"===o||"[object AsyncFunction]"===o||"[object GeneratorFunction]"===o||"[object Proxy]"===o}var r=1;function i(e){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e))||"[object Object]"!=t(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function u(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)&&!i(e)}function c(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function a(e){var n=void 0===e?"undefined":_typeof(e);return"symbol"===n||"object"===n&&null!==e&&"[object Symbol]"===t(e)}function l(e,t){return Array.isArray(e)?e:function(e,t){if(Array.isArray(e))return!1;var n=void 0===e?"undefined":_typeof(e);return!("number"!=n&&"boolean"!=n&&null!=e&&!a(e))||(null!==t&&e in Object(t)||/^\w*$/.test(e))}(e,t)?[e]:function(e){return e.replace(/\[/g,".").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").split(".")}(e)}var d=1/0;function f(e){if("string"==typeof e||a(e))return e;var t=""+e;return"0"===t&&1/e==-d?"-0":t}function p(e,t,n){var o=null==e?void 0:function(e,t){t=l(t,e);for(var n=0;n<t.length&&null!==e;n++)e=e[f(t[n])];return n&&n===t.length?e:void 0}(e,t);return void 0===o?n:o}function v(e){var n=void 0===e?"undefined":_typeof(e);return"string"===n||"object"===n&&null!=e&&!Array.isArray(e)&&"[object String]"===t(e)}function s(e,t,n){var o=document.createElement(e);if(/ui\-/.test(e.toLowerCase()))return{el:o,tagName:e.toLowerCase(),attrs:t,directive:[],textBind:[],event:[],component:[]};var r=[],i=[],u=[],c=[];for(var a in t=t||{})/^v-/.test(a)?r.push({el:o,name:a.replace("v-",""),value:t[a]}):/^@/.test(a)?i.push({el:o,name:a,value:t[a]}):o.setAttribute(a,t[a]);n=n||[];for(var l=0;l<n.length;l++){var d=n[l];if(v(d)){var f=d;if(/^[\x20\t\r\n\f]{0,}$/.test(f))continue;d={el:document.createTextNode(f),text:f},u.push(d)}else{for(var p=0;p<d.directive.length;p++)r.push(d.directive[p]);for(var s=0;s<d.event.length;s++)i.push(d.event[s]);for(var h=0;h<d.component.length;h++)c.push(d.component[h]);for(var y=0;y<d.textBind.length;y++)u.push(d.textBind[y])}d.tagName&&c.push(d),o.appendChild(d.el)}return{el:o,directive:r,textBind:u,event:i,component:c}}var h=function(e,t){for(var n=0;n<t.length;n++){var o=t[n].text.replace(/{{[^}]+}}/g,(function(t){return p(e,t.replace("{{","").replace("}}",""))})),r=document.createTextNode(o);t[n].el.parentNode.replaceChild(r,t[n].el),t[n].el=r}},y=function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];o(e.$directive[i.name][n])&&e.$directive[i.name][n].call(e.$directive[i.name],i.el,{value:p(e,i.value),arg:i.value,target:e})}};function m(e){return function(t){return function e(t,n){for(var o,r=t.childNodes,c=[],a=0;a<r.length;a++)null===(o=r[a])||"object"!==(void 0===o?"undefined":_typeof(o))||3!==o.nodeType||i(o)?u(r[a])&&c.push(e(r[a],n)):c.push(r[a].textContent);for(var l={},d=0;d<t.attributes.length;d++)l[t.attributes[d].nodeName]=t.attributes[d].nodeValue;return n(t.tagName,l,c)}(function(e){if(u(e))return e;var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(e),t)}}function b(e){if(!(this instanceof b))throw new Error("Abandon is a constructor and should be called with the `new` keyword");this._lifecycle(e.beforeCreate),this._init(e),this._lifecycle("created"),u(this.el)&&(this._lifecycle("beforeMount"),this._mount(this.el),this._lifecycle("mounted"))}!function(e){e.prototype._init=function(e){for(var t in this.$uid=r++,e=e||{}){if(/^[_$]/.test(t))throw new Error("The beginning of _and $is not allowed："+t);this[t]=e[t]}o(this.data)&&(this.data=this.data())}}(b),function(e){e.prototype._bind=function(e,t,n){var o=this,r=n.replace(/\([^)]{0,}\)/,"");c(e,t,(function(){o.methods[r].apply(o)}))}}(b),function(e){e.prototype._lifecycle=function(e){o(e)?e():["created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed"].indexOf(e)>-1&&o(this[e])&&this[e].call(this)}}(b),function(e){e.prototype._mountComponent=function(e){var t=this.render(s),n=t.el;this.el.parentNode.replaceChild(n,this.el),this.el=n,this.$directiveE=t.directive,this.$textBindE=t.textBind,h(this,this.$textBindE),y(this,this.$directiveE,"inserted"),function(e){var t=function(t){var n=p(e.data,t);Object.defineProperty(e.data,t,{get:function(){return n},set:function(t){e._lifecycle("beforeUpdate"),n=t,e._updateComponent(),e._lifecycle("updated")}})};for(var n in e.data)t(n)}(this);for(var o=0;o<t.event.length;o++)this._bind(t.event[o].el,t.event[o].name.replace(/^@/,""),t.event[o].value);for(var r=0;r<t.component.length;r++){var i=this.$component[t.component[r].tagName];i.el=t.component[r].el,this._new(i).$pid=this.$uid}},e.prototype._updateComponent=function(){h(this,this.$textBindE),y(this,this.$directiveE,"update")}}(b);function g(e,t,n){!function(e,t,n){"__proto__"==t?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,t,n)}function _(e,t,o,r){return r="function"==typeof r?r:void 0,null==e?e:function(e,t,o,r){if(!n(e))return e;t=l(t,e);for(var i=e,u=0;u<t.length;u++){var c=f(t[u]),a=o;if(u+1!=t.length){var d=i[c];n(d)?a=d:void 0===(a=r?r(d,c,i):void 0)&&(a={})}g(i,c,a),i=i[c]}return e}(e,t,o,r)}var j={inserted:function(e,t){e.value=t.value,c(e,"input",(function(){_(t.target,t.arg,e.value)}))},update:function(e,t){e.value=t.value}};!function(e){e.prototype.$directive={},e.directive=function(t,n){if(e.prototype.$directive[t])throw new Error("The directive has already been defined:v-"+t);e.prototype.$directive[t]=n},e.prototype.$component={},e.component=function(t,n){if(e.prototype.$component[t])throw new Error("The component has already been defined:ui-"+t);e.prototype.$component[t]=n},e.prototype._new=function(t){return new e(t)}}(b),b.directive("bind",{inserted:function(e,t){e.value=e.textContent=t.value},update:function(e,t){e.value=e.textContent=t.value}}),b.directive("model",j),b.prototype._mount=function(e){if(!o(this.render)){var t=this.template;t&&v(t)||(t=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e)),this.render=m(t)}this._mountComponent(e)},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=b:window.Abandon=b}();